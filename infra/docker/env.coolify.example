# Example .env for `infra/docker/docker-compose.coolify.example.yml`
#
# Copy these into Coolify environment variables for the Docker Compose resource.

# Image tag published to GHCR (api/worker/migrate must share the same tag)
TAG=staging-20251219-1

# App DB
POSTGRES_USER=famfinance
POSTGRES_PASSWORD=famfinance
POSTGRES_DB=famfinance

# Keycloak DB
KC_POSTGRES_USER=keycloak
KC_POSTGRES_PASSWORD=keycloak
KC_POSTGRES_DB=keycloak

# MinIO
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=minio123
S3_BUCKET=famfinance

# base64 32 bytes, e.g. `openssl rand -base64 32`
TOKEN_ENCRYPTION_KEY=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=

# Keycloak admin + external hostname (the URL users hit, behind TLS)
KEYCLOAK_ADMIN=admin
KEYCLOAK_ADMIN_PASSWORD=admin
KC_HOSTNAME=keycloak.fafiy.com
KEYCLOAK_ISSUER=https://keycloak.fafiy.com/realms/family-finance
KEYCLOAK_JWKS_URI=https://keycloak.fafiy.com/realms/family-finance/protocol/openid-connect/certs
KEYCLOAK_AUDIENCE=api

# CORS and OAuth redirect allowlist
CORS_ORIGINS=https://fafiy.com,https://www.fafiy.com,http://localhost:3001
OAUTH_ALLOWED_REDIRECT_URIS=https://fafiy.com/oauth/callback
