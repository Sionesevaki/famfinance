# Example .env for `infra/docker/docker-compose.deploy.example.yml`
#
# Copy to your VPS (e.g. /opt/famfinance/.env) and fill values.

# Use private networking between VPSes if available; otherwise lock down these ports with firewall/security group rules.
DATABASE_URL=postgresql://USER:PASSWORD@INFRA_VPS_PRIVATE_IP_OR_DNS:5432/famfinance
REDIS_URL=redis://INFRA_VPS_PRIVATE_IP_OR_DNS:6379

# If using MinIO (S3-compatible) on another VPS, point to its endpoint; for AWS S3 you can omit S3_ENDPOINT.
S3_ENDPOINT=http://INFRA_VPS_PRIVATE_IP_OR_DNS:9000
S3_ACCESS_KEY=minio
S3_SECRET_KEY=minio123
S3_BUCKET=famfinance
S3_REGION=us-east-1

# base64 32 bytes, e.g. `openssl rand -base64 32`
TOKEN_ENCRYPTION_KEY=AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=

# Keycloak / auth
# These should match the public hostname your clients use to reach Keycloak (recommended behind TLS reverse proxy).
KEYCLOAK_ISSUER=https://keycloak.example.com/realms/family-finance
KEYCLOAK_JWKS_URI=https://keycloak.example.com/realms/family-finance/protocol/openid-connect/certs
KEYCLOAK_AUDIENCE=api

# Comma-separated origins (optional)
CORS_ORIGINS=https://app.example.com,https://admin.example.com

# Required in production: comma-separated allowed OAuth redirect URIs
OAUTH_ALLOWED_REDIRECT_URIS=https://app.example.com/oauth/callback
